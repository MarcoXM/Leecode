# 547. Number of Provinces

{% tabs %}
{% tab title="Python-BFS" %}
```python
class Solution:
    def findCircleNum(self, isConnected: List[List[int]]) -> int:
        ans = 0
        graph = collections.defaultdict(list)
        for i in range(len(isConnected)):
            for j in range(len(isConnected[0])):
                if isConnected[i][j] == 1:
                    graph[i].append(j)

        ## 染色

        g = [-1] * len(isConnected) 
        n = 0
        for i in range(len(isConnected)):
            if g[i] == -1:
                self.die(i, g, n,graph)
                n += 1
        return n

    def die(self, x, g, n, graph):
        visited = set()
        q = collections.deque()
        q.append(x)
        while q:
            ls = len(q)
            for _ in range(ls):
                node = q.popleft()
                if graph.get(node) is None:continue
                for nxt in graph.get(node):
                    if nxt in visited:continue
                    g[nxt] = n 
                    q.append(nxt)
                    visited.add(nxt)
```
{% endtab %}

{% tab title="DFS" %}
```python
class Solution:
    def findCircleNum(self, M: List[List[int]]) -> int:
        ## 图的表征
        ## 链表 ,感觉可以回溯
        
        visited = [0] *len(M)
        count = 0
        for i in range(len(M)):
            if visited[i] == 0:
                self.dfs(i, M, visited)
                count += 1
        return count
        
    def dfs(self,idx,M,visited):
        for j in range(len(M)):
            if M[idx][j] == 1 and visited[j] == 0:
                visited[j] = 1
                self.dfs(j,M,visited)
                
```
{% endtab %}
{% endtabs %}

